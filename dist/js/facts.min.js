/*! facts-js 02-11-2014 */
var Facts=Facts||{};Facts.Demo={init:function(a){jQuery(document).ready(function(){document.createStyleSheet?document.createStyleSheet("/css/facts.css"):$("head").append($("<link rel='stylesheet' href='/css/facts.css' type='text/css' media='screen' />")),jQuery(a).html(' 				<div class="row"> 					<div class="col-xs-12 col-sm-4">   						<div class="fact-search-subj"> 							<div class="fact-input-label">Subj:</div><input class="fact-input" id="fact-pfx-subj" type="text" onkeyup="Facts.Demo.search(\'subj\');" onfocus="Facts.Demo.search(\'subj\');" placeholder="type something" /> 						</div> 					</div> 					<div class="col-xs-12 col-sm-4 col-sm-offset-4"> 						<div class="fact-search-obj"> 							<div class="fact-input-label">Obj:</div><input class="fact-input" id="fact-pfx-obj" type="text" onkeyup="Facts.Demo.search(\'obj\');" onfocus="Facts.Demo.search(\'obj\');" placeholder="type something"/> 						</div> 					</div> 				</div> 				<div class="row"> 					<div class="col-xs-12"> 						<div id="fact-top-results" class="fact-results"></div> 						<div id="fact-bottom-results" class="fact-results"></div> 					</div> 				</div> 			')})},search:function(a){var b=document.getElementById("fact-pfx-"+a),c=b.value.toLowerCase();if(""!==c){var d=document.getElementById("fact-top-results"),e=document.getElementById("fact-bottom-results");"subj"===a?(document.getElementById("fact-pfx-obj").classList.remove("active"),Facts.Search.search("/api/facts/browse/subj?q="+c,d,e,'Subjects matching: "'+c+'"',"Those Subjects as Objects")):(document.getElementById("fact-pfx-subj").classList.remove("active"),Facts.Search.search("/api/facts/browse/obj?q="+c,e,d,"Those Objects as Subjects",'Objects matching: "'+c+'"')),b.classList.add("active")}}};var Facts=Facts||{};Facts.Util={loadJSON:function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b&&b(JSON.parse(d.responseText)):c&&c(d))},d.open("GET",a,!0),d.send()},colors:["lightpink","lightblue","lightgreen","lightgoldenrodyellow","lightcyan","lightcoral","lightseagreen"],_nextColor:0,nextColor:function(){return Facts.Util._nextColor%=Facts.Util.colors.length,Facts.Util.colors[Facts.Util._nextColor++]},resetColor:function(){Facts.Util._nextColor=0}},Facts.Search={renderResults:function(a,b,c,d,e,f,g){var h=c[0];if(b[h]){var i=b[h].values,j=document.createElement("div");if(j.setAttribute("class","fact-result-container "+e+"-"+h),f){var k=document.createElement("div");k.setAttribute("class",g),k.textContent=f,j.appendChild(k)}var l=!1;for(var m in i){var n=i[m];if(!d||n.children){l=!0;var o=document.createElement("div");o.setAttribute("class","fact-node"),(m>=1||d)&&o.setAttribute("style","background-color: "+Facts.Util.nextColor());var p=document.createElement("div");p.setAttribute("class","fact-label "+e+"-"+h+"-label"),p.textContent=n.label,o.appendChild(p),j.appendChild(o),c.length>1&&n.children&&Facts.Search.renderResults(o,n.children,c.slice(1),!1,e)}}l&&a.appendChild(j)}},search:function(a,b,c,d,e){Facts.Util.loadJSON(a,function(a){b.innerHTML="",Facts.Util.resetColor(),Facts.Search.renderResults(b,a,["subj","pred","obj"],!0,"fact-right",d,"fact-result-heading"),c.innerHTML="",Facts.Util.resetColor(),Facts.Search.renderResults(c,a,["obj","pred","subj"],!0,"fact-left",e,"fact-result-heading fact-result-heading-right")},function(a){console.error(a)})}};